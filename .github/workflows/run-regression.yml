name: Run Regression Tests

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  regression:
    runs-on: [make, spike]

    steps:
    - uses: actions/checkout@v4

    - name: Simulate
      shell: bash
      run: |
        bash ./regression.sh

    # - name: Fail if Simulation Contains Fails
    #   shell: bash
    #   run: |
    #     [[ -s temp_ci_issues ]] && exit 1 || exit 0